<!-- <play-app-header></play-app-header> -->
<ng-container *transloco="let t; read: 'edi-dashboard'">
  <div class="min-h-screen -mb-50">
    <section class="bg-gray-200">
      <div class="container mx-auto h-25 pt-5 pb-5">
        <h1 class="text-2xl font-bold text-blue-900">EDIFACT</h1>
        <p class="text-sm text-gray-500">
          {{ t('hero') }}
        </p>
      </div>
    </section>

    <section
      class="overflow-hidden md:overflow-x-hidden container mx-auto pt-14"
    >
      <div *ngIf="loading" class="text-center pt-5 mt-5">
        <play-components-simple-spinner
          *ngIf="loading"
          class="grow"
          mainColor="blue"
          id="spinner"
        ></play-components-simple-spinner>
      </div>

      <div *ngIf="!loading" class="flex">
        <div class="grow mr-2 ml-2 pr-2 pl-2">
          <h2 class="text-xl font-bold">{{ t('detail') }}</h2>
          <span class="text-sm font-semibold text-gray-500">2023</span>
          <!-- Chart Edi -->
          <div #containerRef class="max-w-auto max-h-auto">
            <play-components-simple-chart
              [single]="single"
              [view]="[containerRef.offsetWidth, containerRef.offsetHeight]"
              xAxisName="{{ t('graph_data.month') }}"
              yAxisName="{{ t('graph_data.documents') }}"
              class="animate__animated animate__fadeIn"
            >
            </play-components-simple-chart>
          </div>

          <div class="flex w-full mt-3">
            <div
              class="flex items-center ml-auto animate__animated animate__fadeIn"
            >
              <span class="block w-4 h-4 bg-blue-900"></span>
              <span class="ml-1 text-xs font-medium">{{
                t('cards.documents')
              }}</span>
            </div>
          </div>
        </div>
      </div>

      <hr class="border border-gray-200 my-10" />

      <div class="flex -mx-2 mt-2 pl-2 pr-2 animate__animated animate__fadeIn">
        <div
          (click)="activeTable = 'ediDocuments'"
          [ngClass]="
            activeTable === 'ediDocuments'
              ? 'bg-blue-900 text-white'
              : 'hover:bg-blue-900 hover:text-white bg-white text-blue-900'
          "
          class="cursor-pointer w-1/3 p-4 border border-gray-300 shadow-md rounded-lg mx-2"
        >
          <div class="flex items-center bg-blue-200 rounded-full w-12 h-12">
            <fa-icon
              class="text-blue-900 w-full text-center"
              [icon]="faReceipt"
            ></fa-icon>
          </div>
          <h2 class="text-lg font-bold pt-2 mt-2">
            {{ t('cards.documents') }}
          </h2>
        </div>

        <div
          (click)="activeTable = 'ediProfiles'"
          [ngClass]="
            activeTable === 'ediProfiles'
              ? 'bg-blue-900 text-white'
              : 'hover:bg-blue-900 hover:text-white bg-white text-blue-900'
          "
          class="cursor-pointer w-1/3 p-4 border border-gray-300 shadow-md rounded-lg mx-2"
        >
          <div class="flex items-center bg-blue-200 rounded-full w-12 h-12">
            <fa-icon
              class="text-blue-900 w-full text-center"
              [icon]="faAddressCard"
            ></fa-icon>
          </div>
          <h2 class="text-lg font-bold pt-2 mt-2">{{ t('cards.profile') }}</h2>
        </div>

        <div
          (click)="activeTable = 'ediConnections'"
          [ngClass]="
            activeTable === 'ediConnections'
              ? 'bg-blue-900 text-white'
              : 'hover:bg-blue-900 hover:text-white bg-white text-blue-900'
          "
          class="cursor-pointer w-1/3 p-4 border border-gray-300 shadow-md rounded-lg mx-2"
        >
          <div class="flex items-center bg-blue-200 rounded-full w-12 h-12">
            <fa-icon
              class="text-blue-900 w-full text-center"
              [icon]="faTowerCell"
            ></fa-icon>
          </div>
          <h2 class="text-lg font-bold pt-2 mt-2">
            {{ t('cards.connections') }}
          </h2>
        </div>
      </div>

      <div class="w-full bg-gray-100 h-auto my-10 mb-4 pb-2 pl-2 pr-2">
        <play-app-edi-documents-table
          id="docs-table"
          class="animate__animated animate__fadeIn"
          *ngIf="activeTable === 'ediDocuments'"
        ></play-app-edi-documents-table>
        <play-app-edi-profiles-table
          class="animate__animated animate__fadeIn"
          *ngIf="activeTable === 'ediProfiles'"
        ></play-app-edi-profiles-table>
        <play-app-edi-connections-table
          class="animate__animated animate__fadeIn"
          *ngIf="activeTable === 'ediConnections'"
        ></play-app-edi-connections-table>
      </div>
    </section>
  </div>
</ng-container>
