<div *ngIf="loading" class="text-center pt-5 mt-5">
  <play-components-simple-spinner
    *ngIf="loading"
    class="grow"
    mainColor="blue"
    id="spinner"
  ></play-components-simple-spinner>
</div>

<section class="text-gray-600 body-font">
  <div class="container px-5 py-24 mx-auto">
    <div class="flex flex-wrap -m-4 text-center">
      <div class="p-4 md:w-1/4 sm:w-1/2 w-full group">
        <div
          [ngClass]="
            show_users_table && !loading ? 'bg-blue-900 text-white' : ''
          "
          (click)="
            show_sites_table = false;
            show_activity_table = false;
            show_users_table = true;
            show_subscriptions_table = false
          "
          class="border-2 border-gray-200 px-4 py-6 rounded-lg group-hover:bg-blue-900 group-hover:text-white cursor-pointer"
        >
          <fa-icon
            [icon]="faUsers"
            [ngClass]="
              show_users_table && !loading ? 'text-white' : 'text-blue-500'
            "
            class="text-5xl group-hover:text-white w-12 h-12 mb-3 inline-block"
          ></fa-icon>
          <p class="text-xl font-bold pt-2 mt-2">Users</p>
        </div>
      </div>

      <div class="p-4 md:w-1/4 sm:w-1/2 w-full group">
        <div
          [ngClass]="
            show_sites_table && !loading ? 'bg-blue-900 text-white' : ''
          "
          (click)="
            show_sites_table = true;
            show_activity_table = false;
            show_users_table = false;
            show_subscriptions_table = false
          "
          class="border-2 border-gray-200 px-4 py-6 rounded-lg group-hover:bg-blue-900 group-hover:text-white cursor-pointer"
        >
          <fa-icon
            [icon]="faSitemap"
            [ngClass]="
              show_sites_table && !loading ? 'text-white' : 'text-blue-500'
            "
            class="text-5xl group-hover:text-white w-12 h-12 mb-3 inline-block"
          ></fa-icon>
          <p class="text-xl font-bold pt-2 mt-2">Sites</p>
        </div>
      </div>

      <div class="p-4 md:w-1/4 sm:w-1/2 w-full group">
        <div
          [ngClass]="
            show_activity_table && !loading ? 'bg-blue-900 text-white' : ''
          "
          (click)="
            show_sites_table = false;
            show_activity_table = true;
            show_users_table = false;
            show_subscriptions_table = false
          "
          class="border-2 border-gray-200 px-4 py-6 rounded-lg group-hover:bg-blue-900 group-hover:text-white cursor-pointer"
        >
          <fa-icon
            [icon]="faWaveSquare"
            [ngClass]="
              show_activity_table && !loading ? 'text-white' : 'text-blue-500'
            "
            class="text-5xl group-hover:text-white w-12 h-12 mb-3 inline-block"
          ></fa-icon>
          <p class="text-xl font-bold pt-2 mt-2">Activity</p>
        </div>
      </div>

      <div class="p-4 md:w-1/4 sm:w-1/2 w-full group">
        <div
          [ngClass]="
            show_subscriptions_table && !loading ? 'bg-blue-900 text-white' : ''
          "
          (click)="
            show_sites_table = false;
            show_activity_table = false;
            show_users_table = false;
            show_subscriptions_table = true
          "
          class="border-2 border-gray-200 px-4 py-6 rounded-lg group-hover:bg-blue-900 group-hover:text-white cursor-pointer"
        >
          <fa-icon
            [icon]="faBagShopping"
            [ngClass]="
              show_subscriptions_table && !loading
                ? 'text-white'
                : 'text-blue-500'
            "
            class="text-5xl group-hover:text-white w-12 h-12 mb-3 inline-block"
          ></fa-icon>
          <p class="text-xl font-bold pt-2 mt-2">Subscriptions</p>
        </div>
      </div>
    </div>
  </div>
</section>

<section *ngIf="!loading">
  <div class="container mx-auto h-25 pt-5 pb-5">
    <ng-container *ngIf="show_users_table">
      <play-app-mbam-users-table></play-app-mbam-users-table>
    </ng-container>
    <ng-container *ngIf="show_sites_table">
      <play-app-mbam-sites-table></play-app-mbam-sites-table>
    </ng-container>
    <ng-container *ngIf="show_activity_table">
      <play-app-mbam-detections-table></play-app-mbam-detections-table>
    </ng-container>
  </div>
</section>
